<!-- Auto-generated by Glass Compiler — do not edit directly -->


# Verification: compiler.ts_program_factory

**Status:** PROVEN

**Assertions:** 13/13 passed

## INSTRUMENTED

- [+] "TypeScript compiler API is available (typescript package installed)"
  - Precondition will be checked at runtime
- [+] "projectRoot points to a directory with tsconfig.json"
  - Precondition will be checked at runtime
- [+] "GlassFile has a non-empty implementation section"
  - Precondition will be checked at runtime
- [+] "createProgramFromGlassFile returns a ts.Program with type checker"
  - Success guarantee will be checked at runtime
- [+] "createBatchProgram returns all source files in a single shared program"
  - Success guarantee will be checked at runtime
- [+] "getVirtualPath returns a deterministic path for a unit ID"
  - Success guarantee will be checked at runtime
- [+] "Relative imports in implementations are resolved against actual source"
  - Success guarantee will be checked at runtime
- [+] "Returns null if implementation has syntax errors"
  - Failure guarantee will be checked at runtime
- [+] "Returns null if program creation fails"
  - Failure guarantee will be checked at runtime
- [+] "Compiler options are cached across calls"
  - Invariant will be checked at runtime
- [+] "Shebang lines are stripped before parsing"
  - Invariant will be checked at runtime
- [+] "Virtual files never collide with real file paths"
  - Invariant will be checked at runtime
- [+] Failure mode handled: SyntaxError
  - Error type 'SyntaxError' is referenced but handler completeness deferred to runtime

## Advisories

- Runtime check needed: "TypeScript compiler API is available (typescript package installed)" — Precondition will be checked at runtime
- Runtime check needed: "projectRoot points to a directory with tsconfig.json" — Precondition will be checked at runtime
- Runtime check needed: "GlassFile has a non-empty implementation section" — Precondition will be checked at runtime
- Runtime check needed: "createProgramFromGlassFile returns a ts.Program with type checker" — Success guarantee will be checked at runtime
- Runtime check needed: "createBatchProgram returns all source files in a single shared program" — Success guarantee will be checked at runtime
- Runtime check needed: "getVirtualPath returns a deterministic path for a unit ID" — Success guarantee will be checked at runtime
- Runtime check needed: "Relative imports in implementations are resolved against actual source" — Success guarantee will be checked at runtime
- Runtime check needed: "Returns null if implementation has syntax errors" — Failure guarantee will be checked at runtime
- Runtime check needed: "Returns null if program creation fails" — Failure guarantee will be checked at runtime
- Runtime check needed: "Compiler options are cached across calls" — Invariant will be checked at runtime
- Runtime check needed: "Shebang lines are stripped before parsing" — Invariant will be checked at runtime
- Runtime check needed: "Virtual files never collide with real file paths" — Invariant will be checked at runtime
- Runtime check needed: Failure mode handled: SyntaxError — Error type 'SyntaxError' is referenced but handler completeness deferred to runtime
- "Batch program creation shares a single ts.Program for performance"
